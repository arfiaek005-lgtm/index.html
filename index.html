<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>ğŸ¡ Ø¹Ø¬Ù„Ø© ÙŠÙˆÙ†Ø³: Ø§Ù„Ø£Ø³Ù…Ø§Ø¡ + Ø§Ù„ØªØ­Ø¯ÙŠØ§Øª</title>
<style>
  :root{
    --bg1:#0f1023; --bg2:#191b3a; --ink:#e9f0ff; --muted:#a8b0d6;
    --brand:#ffdb3b; --brand2:#00f5d4; --accent:#ff7eb6; --ok:#00e676; --warn:#ffb300;
    --glass:rgba(255,255,255,.08); --glass2:rgba(255,255,255,.14);
  }
  *{box-sizing:border-box}
  body{
    margin:0; padding:0; color:var(--ink); font-family: "Cairo", Tahoma, Arial, sans-serif;
    min-height:100vh; overflow-x:hidden;
    background:
      radial-gradient(60rem 60rem at 10% -10%, #2b2d6b 0%, transparent 60%),
      radial-gradient(50rem 50rem at 110% 10%, #4a1d6e 0%, transparent 55%),
      linear-gradient(135deg, var(--bg1), var(--bg2));
  }
  /* Ø®Ù„ÙÙŠØ© Ø²Ø®Ø±ÙÙŠØ© */
  .stars{
    position:fixed; inset:0; pointer-events:none; z-index:0;
    background-image:
      radial-gradient(2px 2px at 20% 30%, rgba(255,255,255,.35), transparent 60%),
      radial-gradient(1.5px 1.5px at 70% 60%, rgba(255,255,255,.25), transparent 60%),
      radial-gradient(1.8px 1.8px at 40% 80%, rgba(255,255,255,.28), transparent 60%);
    animation: twinkle 6s linear infinite;
    opacity:.7;
  }
  @keyframes twinkle{
    0%,100%{filter:brightness(1)}
    50%{filter:brightness(1.5)}
  }

  header{
    position:sticky; top:0; z-index:5;
    display:flex; align-items:center; justify-content:space-between;
    padding:12px 16px; background:linear-gradient(180deg, rgba(15,16,35,.9), rgba(15,16,35,.35));
    backdrop-filter: blur(6px); border-bottom:1px solid rgba(255,255,255,.06);
  }
  .brand{
    display:flex; align-items:center; gap:10px; font-weight:800; letter-spacing:.4px;
  }
  .brand .logo{
    width:40px; height:40px; border-radius:12px;
    background: conic-gradient(from 0deg, var(--brand), var(--accent), var(--brand2), var(--brand));
    box-shadow: 0 0 20px rgba(255,219,59,.4), inset 0 0 12px rgba(255,255,255,.2);
  }
  .gear{
    width:42px; height:42px; border-radius:12px; border:none; cursor:pointer;
    background: var(--glass); color:var(--ink); font-size:20px;
    display:grid; place-items:center;
    transition: transform .15s ease, background .2s;
  }
  .gear:hover{ transform: rotate(-10deg); background:var(--glass2) }

  main{ padding:18px; position:relative; z-index:1 }

  .wrap{
    display:grid; gap:18px;
    grid-template-columns: 1.3fr 1fr;
  }
  @media (max-width: 980px){
    .wrap{ grid-template-columns: 1fr }
  }

  /* Ù„ÙˆØ­Ø© Ø§Ù„Ø¥Ø¯Ø®Ø§Ù„ */
  .panel{
    background: var(--glass); border:1px solid rgba(255,255,255,.06);
    border-radius:20px; padding:16px; backdrop-filter: blur(8px);
    box-shadow: 0 8px 24px rgba(0,0,0,.25);
  }
  .panel h3{ margin:4px 0 10px; color:var(--brand); font-weight:800 }
  .row{ display:flex; gap:10px; flex-wrap:wrap; align-items:center }
  input[type="text"], textarea, input[type="number"]{
    background: rgba(255,255,255,.08); color:var(--ink); border:1px solid rgba(255,255,255,.12);
    padding:10px 12px; border-radius:12px; outline:none; width:100%;
  }
  textarea{ min-height:84px; resize:vertical }

  .btn{
    border:none; cursor:pointer; padding:10px 14px; border-radius:12px; color:#121212; font-weight:800;
    background: linear-gradient(180deg, var(--brand), #ffd84d);
    box-shadow: 0 4px 14px rgba(255,219,59,.35);
  }
  .btn.secondary{
    background: linear-gradient(180deg, var(--brand2), #00dcc0); color:#002b2b; box-shadow: 0 4px 14px rgba(0,245,212,.25);
  }
  .btn.ghost{
    background: rgba(255,255,255,.06); color:var(--ink); border:1px solid rgba(255,255,255,.14);
    box-shadow:none;
  }
  .chips{ display:flex; gap:8px; flex-wrap:wrap; margin-top:8px }
  .chip{
    padding:6px 10px; border-radius:999px; background:rgba(255,255,255,.10);
    border:1px solid rgba(255,255,255,.14); font-size:14px
  }

  /* Ø§Ù„Ø¹Ø¬Ù„ØªØ§Ù† */
  .stage{
    display:grid; grid-template-columns: 1fr 1fr; gap:18px; align-items:start;
  }
  @media (max-width:980px){ .stage{ grid-template-columns: 1fr } }

  .wheelCard{
    background: var(--glass); border:1px solid rgba(255,255,255,.06);
    border-radius:22px; padding:18px; text-align:center;
  }
  .wheelTitle{ font-weight:800; color:var(--muted); margin-bottom:10px }
  .wheelBox{
    position:relative; width: 320px; height:320px; margin:0 auto 12px;
    border-radius:50%; background:
      radial-gradient(circle at 50% 50%, rgba(255,255,255,.08), rgba(255,255,255,.02) 60%),
      conic-gradient(from 0deg, #2b2f55, #2f2a58, #2b2f55);
    border:3px solid rgba(255,255,255,.18); box-shadow: 0 12px 30px rgba(0,0,0,.35), inset 0 0 30px rgba(255,255,255,.06);
    overflow:hidden; transition: filter .2s ease;
  }
  .pointer{
    position:absolute; top:-10px; left:50%; transform:translateX(-50%);
    width:0;height:0; border-left:14px solid transparent; border-right:14px solid transparent; border-bottom:24px solid var(--brand);
    filter: drop-shadow(0 4px 6px rgba(0,0,0,.4));
    z-index:3;
  }
  .wheel{ position:absolute; inset:0; border-radius:50%; }
  .sector{
    position:absolute; inset:0; display:flex; align-items:center; justify-content:center;
    transform-origin:50% 50%; font-weight:700; color:#fff; text-shadow:0 2px 8px rgba(0,0,0,.35);
    font-size:14px; padding:0 26px; text-align:center;
  }
  .sector::before{
    content:""; position:absolute; inset:0; background: conic-gradient(from var(--start) deg, rgba(255,255,255,.08), rgba(255,255,255,.02) 85%);
    mask: radial-gradient(circle at 50% 50%, transparent 48%, black 49%);
    border-radius:50%;
  }
  .result{
    margin-top:6px; font-weight:800; color:var(--ok);
    min-height:28px;
  }

  /* Ø£Ø²Ø±Ø§Ø± â€œØ§Ù„ÙˆØ¬Ø¨Ø§Øª/Ø§Ù„Ø±Ù…ÙˆØ²â€ Ø§Ù„Ù…Ù…ØªØ¹Ø© */
  .funbar{
    display:flex; gap:10px; flex-wrap:wrap; justify-content:center; margin-top:8px
  }
  .funbtn{
    width:44px; height:44px; border-radius:12px; border:1px solid rgba(255,255,255,.14);
    background:rgba(255,255,255,.06); display:grid; place-items:center; cursor:pointer; font-size:22px;
    transition: transform .12s ease, background .2s;
  }
  .funbtn:hover{ transform: translateY(-2px); background:rgba(255,255,255,.12) }

  /* Ø§Ù„Ø´Ø±ÙŠØ· Ø§Ù„Ø¬Ø§Ù†Ø¨ÙŠ (Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª) */
  .drawer{
    position:fixed; top:0; right:0; width: 320px; max-width:100vw; height:100%;
    background: rgba(13,13,28,.96); color:var(--ink); border-left:1px solid rgba(255,255,255,.08);
    transform: translateX(100%); transition: transform .25s ease; z-index:20; backdrop-filter: blur(10px);
    padding:16px;
  }
  .drawer.open{ transform: translateX(0) }
  .rowItem{ display:flex; align-items:center; justify-content:space-between; padding:10px 6px; border-bottom:1px dashed rgba(255,255,255,.08) }
  .switch{ inline-size:52px; block-size:30px; border-radius:999px; background:rgba(255,255,255,.14); position:relative; cursor:pointer }
  .switch i{ position:absolute; inset-inline-start:3px; inset-block-start:3px; width:24px; height:24px; background:#fff; border-radius:50%; transition: transform .2s }
  .switch.on{ background:linear-gradient(90deg, var(--brand2), #00d1b7) }
  .switch.on i{ transform: translateX(22px) }

  footer{
    margin:30px 0 20px; text-align:center; color:var(--muted)
  }
  .sig{ color:var(--brand); font-weight:900 }
  .subsig{ font-size:13px; opacity:.85 }

  /* Ù…Ø¤Ø«Ø±Ø§Øª */
  @keyframes wobble{ 0%,100%{transform:rotate(0)} 25%{transform:rotate(2deg)} 75%{transform:rotate(-2deg)} }
  .shake{ animation: wobble .4s ease both }
  .flash{ box-shadow: 0 0 0 9999px rgba(255,255,255,.02) inset, 0 0 40px 10px rgba(255,255,255,.4) !important }
  .invert{ filter: invert(1) hue-rotate(180deg) }

  .note{ font-size:12px; opacity:.8; margin-top:6px }
</style>
</head>
<body>

<div class="stars"></div>

<header>
  <div class="brand">
    <div class="logo"></div>
    <div>
      <div style="font-size:18px">Ø¹Ø¬Ù„Ø© ÙŠÙˆÙ†Ø³</div>
      <div style="font-size:12px; color:var(--muted)">Ø£Ø³Ù…Ø§Ø¡ + ØªØ­Ø¯ÙŠØ§Øª Ù…Ø¶Ø­ÙƒØ© Ø¨Ø¥Ø®Ø±Ø§Ø¬ Ø£Ù†ÙŠÙ‚</div>
    </div>
  </div>
  <button class="gear" id="openSettings" title="Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª">âš™ï¸</button>
</header>

<main>
  <div class="wrap">

    <!-- Ø¹Ù…ÙˆØ¯ Ø§Ù„ØªØ­ÙƒÙ… ÙˆØ§Ù„Ø¥Ø¯Ø®Ø§Ù„ -->
    <section class="panel">
      <h3>ğŸ§‘â€ğŸ¤â€ğŸ§‘ Ø¥Ø¯Ø®Ø§Ù„ Ø§Ù„Ø£Ø³Ù…Ø§Ø¡</h3>
      <div class="row">
        <input id="nameInput" type="text" placeholder="Ø§ÙƒØªØ¨ Ø§Ø³Ù… ÙˆØ§Ø¶ØºØ· Ø¥Ø¶Ø§ÙØ© (Ù…Ø«Ø§Ù„: ÙŠÙˆÙ†Ø³)" />
        <button class="btn" id="addName">â• Ø¥Ø¶Ø§ÙØ©</button>
        <button class="btn ghost" id="addMany">â¬‡ï¸ Ù„ØµÙ‚ Ù‚Ø§Ø¦Ù…Ø©</button>
      </div>
      <div class="chips" id="namesChips"></div>
      <div class="note">ØªÙ„Ù…ÙŠØ­: ØªÙ‚Ø¯Ø± ØªÙ„ØµÙ‚ Ø£Ø³Ù…Ø§Ø¡ Ù…ÙØµÙˆÙ„Ø© Ø¨ÙÙˆØ§ØµÙ„/Ø£Ø³Ø·Ø±.</div>

      <hr style="border-color:rgba(255,255,255,.06); margin:14px 0">

      <h3>ğŸ˜‚ Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„Ø¹Ø¬Ù„Ø©</h3>
      <div class="row">
        <label style="display:block; width:100%">Ù…Ø¯Ø© Ø§Ù„Ø¯ÙˆØ±Ø§Ù† (Ø«Ø§Ù†ÙŠØ©):
          <input id="spinSecs" type="number" min="1" max="10" value="4" />
        </label>
      </div>
      <div class="row">
        <button class="btn secondary" id="spinNames">ğŸ¯ Ø¯ÙˆÙ‘Ø± Ø¹Ø¬Ù„Ø© Ø§Ù„Ø£Ø³Ù…Ø§Ø¡</button>
        <button class="btn" id="spinChallenges" disabled>ğŸ² Ø¯ÙˆÙ‘Ø± Ø¹Ø¬Ù„Ø© Ø§Ù„ØªØ­Ø¯ÙŠØ§Øª</button>
      </div>
      <div class="note">Ù„Ø§Ø²Ù… Ø£ÙˆÙ„Ø§Ù‹ ØªØ®ØªØ§Ø± Ù„Ø§Ø¹Ø¨ Ù…Ù† Ø¹Ø¬Ù„Ø© Ø§Ù„Ø£Ø³Ù…Ø§Ø¡ØŒ Ø¨Ø¹Ø¯Ù‡Ø§ ØªØªÙØ¹Ù„ Ø¹Ø¬Ù„Ø© Ø§Ù„ØªØ­Ø¯ÙŠØ§Øª.</div>

      <hr style="border-color:rgba(255,255,255,.06); margin:14px 0">

      <h3>ğŸ” Ø²Ø±Ø§Ø±Ø§Øª Ù…Ø±ÙØ­Ø© (Ù„Ø§ ØªØºÙŠÙ‘Ø± Ø§Ù„Ù„Ø¹Ø¨)</h3>
      <div class="funbar">
        <button class="funbtn" title="Ø¨ÙˆÙ‚ Ù…Ù‡Ø±Ø¬" data-fx="horn">ğŸ¤¡</button>
        <button class="funbtn" title="Ø¨ÙÙˆØ¨!" data-fx="pop">ğŸŸ</button>
        <button class="funbtn" title="Ù‚ØµØ§ØµØ§Øª Ù…Ù„ÙˆÙ‘Ù†Ø©" data-fx="confetti">ğŸ¬</button>
        <button class="funbtn" title="Ù‚Ù„Ø¨ Ø§Ù„Ø´Ø§Ø´Ø© Ø£Ù„ÙˆØ§Ù†" data-fx="invert">ğŸ­</button>
        <button class="funbtn" title="Ù‡Ø²Ù‘Ø© Ø®ÙÙŠÙØ©" data-fx="shake">ğŸ•</button>
      </div>
    </section>

    <!-- Ø¹Ù…ÙˆØ¯ Ø§Ù„Ø¹Ø¬Ù„Ø§Øª -->
    <section class="stage">
      <!-- Ø¹Ø¬Ù„Ø© Ø§Ù„Ø£Ø³Ù…Ø§Ø¡ -->
      <div class="wheelCard">
        <div class="wheelTitle">Ø¹Ø¬Ù„Ø© Ø§Ù„Ø£Ø³Ù…Ø§Ø¡</div>
        <div class="wheelBox" id="wheelNamesBox">
          <div class="pointer"></div>
          <div class="wheel" id="wheelNames"></div>
        </div>
        <div id="resultName" class="result"></div>
      </div>

      <!-- Ø¹Ø¬Ù„Ø© Ø§Ù„ØªØ­Ø¯ÙŠØ§Øª -->
      <div class="wheelCard">
        <div class="wheelTitle">Ø¹Ø¬Ù„Ø© Ø§Ù„ØªØ­Ø¯ÙŠØ§Øª</div>
        <div class="wheelBox" id="wheelChallengesBox">
          <div class="pointer"></div>
          <div class="wheel" id="wheelChallenges"></div>
        </div>
        <div id="resultChallenge" class="result"></div>
      </div>
    </section>

  </div>

  <footer>
    <div class="sig">ØµÙÙ†Ø¹ Ø¨Ø­Ø¨ Ù…Ù† <span class="sig">ÙŠÙˆÙ†Ø³</span> ğŸ§ªâœ¨</div>
    <div class="subsig">ÙˆØ§Ø¬Ù‡Ø© Ø®ÙÙŠÙØ©ØŒ Ø£ØµÙˆØ§Øª Ù…Ø¶Ø­ÙƒØ©ØŒ ÙˆÙ…ØªØ¹Ø© Ø¬Ù…Ø§Ø¹ÙŠØ©â€¦ Ø§Ø³ØªÙ…ØªØ¹ÙˆØ§! ğŸ˜</div>
  </footer>
</main>

<!-- Ø¯Ø±Ø¬ Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª -->
<aside class="drawer" id="drawer">
  <div style="display:flex; justify-content:space-between; align-items:center; margin-bottom:8px">
    <h3 style="margin:0; color:var(--brand)">âš™ï¸ Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª</h3>
    <button class="gear" id="closeSettings">âœ–ï¸</button>
  </div>

  <div class="rowItem">
    <div>Ø£ØµÙˆØ§Øª Ù…Ø¶Ø­ÙƒØ©</div>
    <div class="switch on" id="swSound"><i></i></div>
  </div>
  <div class="rowItem">
    <div>Ù‚ØµØ§ØµØ§Øª Ø¹Ù†Ø¯ Ø§Ù„Ø§Ø®ØªÙŠØ§Ø±</div>
    <div class="switch on" id="swConfetti"><i></i></div>
  </div>
  <div class="rowItem">
    <div>Ø§Ù‡ØªØ²Ø§Ø² (Ø¥Ù† Ù…Ø¯Ø¹ÙˆÙ…)</div>
    <div class="switch on" id="swVibrate"><i></i></div>
  </div>
  <div class="rowItem">
    <div>Ø³ÙÙ…Ø© Ø£Ù„ÙˆØ§Ù† â€œÙ†ÙŠÙˆÙ†â€</div>
    <div class="switch on" id="swNeon"><i></i></div>
  </div>

  <div style="margin-top:14px; font-size:12px; color:var(--muted)">
    ØªØ°ÙƒÙŠØ±: Ø§Ù„Ø£Ø²Ø±Ø§Ø± Ø§Ù„Ø­Ù„ÙˆØ© (ğŸŸğŸ¤¡ğŸ¬ğŸ­ğŸ•) ØªØ£Ø«ÙŠØ±Ø§ØªÙ‡Ø§ Ø¨ØµØ±ÙŠØ© ÙÙ‚Ø·ØŒ Ù…Ø§ ØªØºÙŠØ± Ù†ØªØ§Ø¦Ø¬ Ø§Ù„Ø¹Ø¬Ù„Ø§Øª.
  </div>
</aside>

<script>
/* =========================
   Ø­Ø§Ù„Ø© Ø¹Ø§Ù…Ù‘Ø© + Ù…Ø³Ø§Ø¹Ø¯Ø§Øª
========================= */
const $ = (s, el=document) => el.querySelector(s);
const $$ = (s, el=document) => [...el.querySelectorAll(s)];

const state = {
  names: [],
  chosenName: null,
  spinSecs: 4,
  soundOn: true,
  confettiOn: true,
  vibrateOn: true,
  neonOn: true,
};

const wheelNames = $("#wheelNames");
const wheelChallenges = $("#wheelChallenges");
const boxNames = $("#wheelNamesBox");
const boxChallenges = $("#wheelChallengesBox");

/* =========================
   Ù…ÙˆÙ„Ù‘Ø¯ Ø§Ù„Ø£ØµÙˆØ§Øª (WebAudio)
========================= */
let ACTX;
function ctx(){ if(!ACTX) ACTX = new (window.AudioContext||window.webkitAudioContext)(); return ACTX; }
function playClick(){
  if(!state.soundOn) return;
  const ac = ctx();
  const o = ac.createOscillator();
  const g = ac.createGain();
  o.type="square"; o.frequency.value = 420;
  g.gain.value=0.0001; g.gain.exponentialRampToValueAtTime(0.25, ac.currentTime+0.02);
  g.gain.exponentialRampToValueAtTime(0.0001, ac.currentTime+0.13);
  o.connect(g).connect(ac.destination); o.start(); o.stop(ac.currentTime+0.14);
}
function clownHorn(){
  if(!state.soundOn) return;
  const ac = ctx();
  const g = ac.createGain(); g.connect(ac.destination); g.gain.value=0.15;
  const seq = [330,260,220].concat([260,330]);
  seq.forEach((f,i)=>{
    const o = ac.createOscillator(); o.type="sawtooth"; o.frequency.value=f;
    const gg = ac.createGain(); gg.gain.value=0.0001;
    o.connect(gg).connect(g);
    const t = ac.currentTime + i*0.08;
    gg.gain.exponentialRampToValueAtTime(0.22, t+0.02);
    gg.gain.exponentialRampToValueAtTime(0.0001, t+0.07);
    o.start(t); o.stop(t+0.08);
  });
}
function popSound(){
  if(!state.soundOn) return;
  const ac = ctx();
  const o = ac.createOscillator(); const g=ac.createGain();
  o.type="triangle"; o.frequency.setValueAtTime(600, ac.currentTime);
  o.frequency.exponentialRampToValueAtTime(1200, ac.currentTime+0.05);
  g.gain.value=0.0001; g.gain.exponentialRampToValueAtTime(0.28, ac.currentTime+0.01);
  g.gain.exponentialRampToValueAtTime(0.0001, ac.currentTime+0.12);
  o.connect(g).connect(ac.destination); o.start(); o.stop(ac.currentTime+0.13);
}
function winJingle(){
  if(!state.soundOn) return;
  const ac = ctx();
  [523,659,784,988].forEach((f,i)=>{
    const o=ac.createOscillator(), g=ac.createGain();
    o.type="triangle"; o.frequency.value=f; g.gain.value=0.12;
    o.connect(g).connect(ac.destination);
    const t=ac.currentTime+i*0.12; o.start(t); o.stop(t+0.22);
  });
}

/* =========================
   Ù…Ø¤Ø«Ø±Ø§Øª Ù…Ø±Ø­Ø©
========================= */
function vibrate(ms=80){ if(state.vibrateOn && navigator.vibrate) navigator.vibrate(ms); }
function flash(el){ el.classList.add("flash"); setTimeout(()=>el.classList.remove("flash"), 200); }
function shake(el){ el.classList.add("shake"); setTimeout(()=>el.classList.remove("shake"), 420); }
function toggleInvert(){ document.body.classList.toggle("invert"); setTimeout(()=>document.body.classList.toggle("invert"), 1500); }

// Ù‚ØµØ§ØµØ§Øª Ø¨Ø³ÙŠØ·Ø© (Ø¥ÙŠÙ…ÙˆØ¬ÙŠ)
function burstConfetti(x = window.innerWidth/2, y = 140){
  if(!state.confettiOn) return;
  const N = 24;
  for(let i=0;i<N;i++){
    const s = document.createElement("div");
    s.textContent = ["ğŸ‰","âœ¨","ğŸ¬","ğŸ’¥","ğŸŠ"][Math.floor(Math.random()*5)];
    s.style.position="fixed";
    s.style.left = x+"px"; s.style.top = y+"px";
    s.style.zIndex = 50; s.style.pointerEvents="none";
    s.style.transition = "transform .9s ease, opacity .9s ease";
    document.body.appendChild(s);
    const a = (Math.PI*2) * (i/N);
    const r = 120 + Math.random()*120;
    requestAnimationFrame(()=>{
      s.style.transform = `translate(${Math.cos(a)*r}px, ${Math.sin(a)*r}px) rotate(${(Math.random()*720-360)}deg)`;
      s.style.opacity = 0;
    });
    setTimeout(()=> document.body.removeChild(s), 950);
  }
}

/* =========================
   Ø¨Ù†Ø§Ø¡ Ø§Ù„Ø¹Ø¬Ù„Ø© (Div sectors)
========================= */
function buildWheel(container, labels, showText=true){
  container.innerHTML = "";
  if(labels.length===0){
    // Ø¯Ø§Ø¦Ø±Ø© Ø²Ø®Ø±ÙÙŠØ© ÙÙ‚Ø·
    const placeholder = document.createElement("div");
    placeholder.className = "sector";
    placeholder.style.setProperty("--start", 0);
    placeholder.style.transform = `rotate(0deg)`;
    placeholder.innerHTML = "<div style='opacity:.5'>Ø£Ø¶Ù Ø¹Ù†Ø§ØµØ±â€¦</div>";
    container.appendChild(placeholder);
    return;
  }
  const n = labels.length;
  for(let i=0;i<n;i++){
    const ang = 360/n;
    const s = document.createElement("div");
    s.className = "sector";
    s.style.setProperty("--start", i*ang);
    s.style.transform = `rotate(${i*ang}deg)`;
    // Ù†Ø¹Ø±Ø¶ Ø§Ù„Ù†Øµ/Ø§Ù„Ø¥ÙŠÙ…ÙˆØ¬ÙŠ Ø¨Ø´ÙƒÙ„ Ù…Ù‚Ø±ÙˆØ¡ (Ù†Ø«Ø¨Øª Ø¹ÙƒØ³ Ø¯ÙˆØ±Ø§Ù†)
    const inner = document.createElement("div");
    inner.style.transform = `rotate(${-i*ang}deg)`;
    inner.style.width="70%";
    inner.style.userSelect="none";
    inner.style.pointerEvents="none";
    inner.style.whiteSpace="nowrap";
    if(showText){
      inner.textContent = labels[i];
    }else{
      inner.textContent = ["ğŸ¯","ğŸ˜‚","ğŸ”¥","ğŸ¤ª","ğŸ®","ğŸˆ","ğŸƒ","ğŸ’¥"][i%8];
    }
    s.appendChild(inner);
    container.appendChild(s);
  }
}

/* =========================
   Ø³Ø¨ÙŠÙ† Ø¹Ø§Ù… + ØªØ­Ø¯ÙŠØ¯ Ø§Ù„ÙØ§Ø¦Ø²
========================= */
function spinWheel(boxEl, items, onDone, showText=true){
  if(items.length===0){ alert("Ø£Ø¶Ù Ø¹Ù†Ø§ØµØ± Ø£ÙˆÙ„Ø§Ù‹"); return; }
  const wheelEl = boxEl.querySelector(".wheel");
  buildWheel(wheelEl, items, showText);

  // Ø¯ÙˆØ±Ø§Ù† Ø¹Ø´ÙˆØ§Ø¦ÙŠ ÙŠØ­Ø· Ø§Ù„Ù…Ø¤Ø´Ø± Ø¹Ù„Ù‰ Ø¹Ù†ØµØ±
  const n = items.length;
  const sector = 360/n;
  // Ù‡Ø¯Ù Ø¹Ø´ÙˆØ§Ø¦ÙŠ
  const idx = Math.floor(Math.random()*n);
  // Ù†ÙˆÙ‚Ù Ø¨Ø­ÙŠØ« Ø§Ù„Ù…Ø¤Ø´Ø± Ø§Ù„Ø¹Ù„ÙˆÙŠ ÙŠØµØ§Ø¯Ù ÙˆØ³Ø· Ø§Ù„Ù‚Ø·Ø§Ø¹
  const targetDeg = 360 - (idx*sector + sector/2);
  // Ù†Ø¶ÙŠÙ Ù„ÙÙ‘Ø§Øª ÙƒØ§Ù…Ù„Ø©
  const spins = 4 + Math.floor(Math.random()*3); // 4 Ø¥Ù„Ù‰ 6 Ù„ÙÙ‘Ø§Øª
  const totalDeg = spins*360 + targetDeg + (Math.random()*sector*0.2 - sector*0.1);

  // Ø£Ù†ÙŠÙ…ÙŠØ´Ù†
  playClick(); vibrate(30);
  wheelEl.style.transition = `transform ${state.spinSecs}s cubic-bezier(.1,.8,.1,1)`;
  wheelEl.style.transform = `rotate(${totalDeg}deg)`;
  boxEl.classList.add("flash");

  // Ù†Ø¨Ø¶Ø§Øª ØµÙˆØª Ø£Ø«Ù†Ø§Ø¡ Ø§Ù„Ø¯ÙˆØ±Ø§Ù†
  let ticks=0;
  const tickInt = setInterval(()=>{ popSound(); ticks++; if(ticks>10) clearInterval(tickInt) }, Math.max(90, state.spinSecs*1000/10));

  setTimeout(()=>{
    boxEl.classList.remove("flash");
    wheelEl.style.transition = ""; // Ù†Ø±Ø¬Ø¹ ÙÙˆØ±ÙŠ Ù„Ù„Ø²Ø§ÙˆÙŠØ© Ø§Ù„Ù†Ø§Ù‚ØµØ© Ù„Ùˆ Ù„Ø²Ù…
    // Ù†ØªÙŠØ¬Ø©
    onDone(idx, items[idx]);
    winJingle(); burstConfetti(boxEl.getBoundingClientRect().left + boxEl.offsetWidth/2, boxEl.getBoundingClientRect().top + 20);
  }, state.spinSecs*1000 + 40);
}

/* =========================
   Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„ØªØ­Ø¯ÙŠØ§Øª (100+)
========================= */
const CHALLENGES = [
"Ù‚Ù„ Ø¬Ù…Ù„Ø© ÙƒØ§Ù…Ù„Ø© Ø¨Ø¯ÙˆÙ† ÙØªØ­ ÙÙ…Ùƒ ğŸ˜¬",
"ØªÙƒÙ„Ù… Ù‡Ù…Ø³Ù‹Ø§ Ù„Ù…Ø¯Ø© 30 Ø«Ø§Ù†ÙŠØ©",
"Ø¥Ø¶Ø­Ùƒ Ø¨Ø¯ÙˆÙ† Ù…Ø§ ØªØ¨ÙŠÙ† Ø£Ø³Ù†Ø§Ù†Ùƒ ğŸ˜‚",
"Ù‚Ù„ Ø£Ù„ÙØ¨Ø§Ø¡ Ø¨Ø§Ù„Ø¹ÙƒØ³ Ø¨Ø³Ø±Ø¹Ø©",
"Ù‚ÙÙ„ 'Ø£Ù†Ø§ Ø¨Ø§Ø°Ù†Ø¬Ø§Ù†' Ø«Ù„Ø§Ø« Ù…Ø±Ø§Øª Ø¨Ø¬Ø¯ÙŠÙ‘Ø© ØªØ§Ù…Ø©",
"Ø§Ù…Ø´Ù Ù…ÙƒØ§Ù†Ùƒ ÙƒØ£Ù†Ùƒ Ø¹Ù„Ù‰ Ø§Ù„Ù‚Ù…Ø± ğŸŒ•",
"Ù‚ÙÙ„ Ø¨ÙŠØª Ø´Ø¹Ø± Ù…Ù† Ø®ÙŠØ§Ù„Ùƒ Ø§Ù„Ø¢Ù†",
"ØµÙÙ‘Ø± Ù„Ø­Ù†Ù‹Ø§ ØªØ¹Ø±ÙÙ‡ (Ø¨Ø¯ÙˆÙ† ÙƒÙ„Ø§Ù…) ğŸ¶",
"Ù‚ÙÙ„ Ù†ÙƒØªØ© Ù…Ù† Ø³Ø·Ø± ÙˆØ§Ø­Ø¯",
"Ù‚Ù„ 'Ù‚' Ø¨Ø¯Ù„ ÙƒÙ„ 'Ùƒ' Ù„Ù…Ø¯Ø© Ø¬ÙˆÙ„Ø©",
"Ø¥Ø¹Ù…Ù„ ØµÙˆØª Ø±ÙˆØ¨ÙˆØª ÙˆØ§Ù†Øª ØªØªÙƒÙ„Ù… ğŸ¤–",
"ØªØµØ±Ù‘Ù ÙƒØ£Ù† Ù‡Ø§ØªÙÙƒ Ø±Ù†Ù‘ Ø§Ù„Ø¢Ù† ÙˆØ±Ø¯Ù‘ Ø¹Ù„ÙŠÙ‡",
"Ù‚Ù„ 'Ù„Ø§ Ø£Ø³ØªØ·ÙŠØ¹ Ø§Ù„ØªÙˆÙ‚Ù Ø¹Ù† Ø§Ù„Ø¶Ø­Ùƒ' ÙˆØ£Ù†Øª ØªØ­Ø§ÙˆÙ„ Ù…Ø§ ØªØ¶Ø­Ùƒ",
"Ø§Ù…Ø¯Ø­ Ù†ÙØ³Ùƒ Ø¨Ø«Ù„Ø§Ø« ØµÙØ§Øª Ø®Ø§Ø±Ù‚Ø© ğŸ’ª",
"Ù‚Ù„ Ø§Ø³Ù…Ùƒ ÙˆÙƒØ£Ù†Ùƒ Ù…Ø°ÙŠØ¹ Ø±ÙŠØ§Ø¶ÙŠ",
"Ø§Ø¹Ù…Ù„ Ø¥Ø¹Ù„Ø§Ù† Ø®ÙŠØ§Ù„ÙŠ Ù„Ù…Ù†ØªØ¬ ØºÙŠØ± Ù…ÙˆØ¬ÙˆØ¯",
"Ø§Ø­ÙƒÙŠ Ø°ÙƒØ±ÙŠØ§ØªÙƒ Ù…Ø¹ ÙƒØ±Ø³ÙŠ Ø§Ù„ØµÙ Ø§Ù„Ø£ÙˆÙ„ ğŸª‘",
"Ø§Ø®ØªØ± Ù„Ø§Ø¹Ø¨Ù‹Ø§ ÙˆÙ‚Ù„ Ù„Ù‡ Ù„Ù‚Ø¨Ù‹Ø§ Ù„Ø·ÙŠÙÙ‹Ø§",
"ØªÙƒÙ„Ù… Ø¨Ù„Ù‡Ø¬Ø© Ù„ÙŠØ³Øª Ù„Ù‡Ø¬ØªÙƒ",
"Ù‚Ù„ Ø¬Ù…Ù„Ø© ÙˆÙƒÙ„ ÙƒÙ„Ù…Ø© ØªØ¨Ø¯Ø£ Ø¨Ù†ÙØ³ Ø§Ù„Ø­Ø±Ù",
"Ø§Ù‚Ø±Ø£ Ø¬Ù…Ù„Ø© Ø¨ØµÙˆØª Ø´Ø±Ø·ÙŠ ØºØ§Ø¶Ø¨ ğŸ‘®â€â™‚ï¸",
"Ø£Ø¹Ø¯ ØªÙ…Ø«ÙŠÙ„ Ù„Ø­Ø¸Ø© Ù‡Ø¯Ù Ø¹Ø§Ù„Ù…ÙŠ Ø¨Ø¯ÙˆÙ† ÙƒØ±Ø©",
"Ù‚Ù„ 'Ø£Ù†Ø§ Ø¬Ø§Ø¦Ø¹' Ø¨Ø¹Ø´Ø± Ø·Ø±Ù‚ Ù…Ø®ØªÙ„ÙØ© ğŸ”",
"Ø¹Ø±ÙÙ†Ø§ Ø¹Ù„Ù‰ Ø­Ø°Ø§Ø¦Ùƒ ÙƒØ£Ù†Ù‡ Ø´Ø®ØµÙŠØ©",
"Ø§Ø¹Ù…Ù„ ØµÙˆØª Ø³ÙŠØ§Ø±Ø© Ø³Ø¨Ø§Ù‚ Ù„Ù…Ø¯Ø© 5 Ø«ÙˆØ§Ù†ÙŠ ğŸï¸",
"Ù‚Ù„ Ø­ÙƒÙ…Ø© ØºØ±ÙŠØ¨Ø© ØªØ¨Ø¯Ùˆ Ø¹Ù…ÙŠÙ‚Ø©",
"Ø§ØªÙƒÙ„Ù… ÙƒØ£Ù†Ùƒ Ø³Ø§Ø­Ø± ÙŠÙ„Ù‚ÙŠ ØªØ¹ÙˆÙŠØ°Ø© ğŸª„",
"ØºÙ†Ù‘ÙŠ Ø§Ø³Ù… Ù„Ø§Ø¹Ø¨ ØªØ­Ø¨Ù‡",
"Ø¥Ø¹Ù…Ù„ Ø­Ø±ÙƒØ© ÙÙˆØ² Ø¨Ø£Ø³Ù„ÙˆØ¨ Ø¨Ø·ÙŠØ¡ ğŸ¥",
"Ù‚Ù„ ÙƒÙ„Ù…Ø© 'Ù…ÙˆØ²' ÙƒÙ„ Ù…Ø§ ØªÙ‚ÙˆÙ„ Ø§Ø³Ù… Ø£Ø­Ø¯ Ø·ÙˆØ§Ù„ Ø¬ÙˆÙ„Ø© ğŸŒ",
"Ø§Ø¹Ù…Ù„ Ù…Ù‚Ø§Ø¨Ù„Ø© Ù‚ØµÙŠØ±Ø© Ù…Ø¹ Ù†ÙØ³Ùƒ",
"Ø­Ø§ÙˆÙ„ ØªÙ‚Ù†Ø¹Ù†Ø§ Ø£Ù† Ø§Ù„Ø¬Ø¯Ø§Ø± Ø´ÙØ§Ù",
"Ù‚Ù„ Ø§Ù„ÙŠÙˆÙ… ÙˆØ§Ù„ØªØ§Ø±ÙŠØ® ÙˆÙƒØ£Ù†Ùƒ Ù…Ø°ÙŠØ¹ Ù†Ø´Ø±Ø©",
"Ø§Ø¹Ù…Ù„ Ø¥Ø¹Ù„Ø§Ù† Ø·Ù‚Ø³ Ù…Ø¨Ø§Ù„Øº ÙÙŠÙ‡ â›ˆï¸",
"Ù‚Ù„ 'Ø¢Ø³Ù' Ø¨Ø´ÙƒÙ„ Ø¯Ø±Ø§Ù…ÙŠ Ø¬Ø¯Ù‹Ø§",
"Ù…Ø«Ù‘Ù„ Ø£Ù†Ùƒ Ø±ÙˆØ¨ÙˆØª ÙÙŠÙ‡ Ø¹Ø·Ù„",
"Ù‚Ù„ Ø¬Ù…Ù„Ø© Ø¨Ø¯ÙˆÙ† Ø­Ø±Ù Ø§Ù„Ø£Ù„Ù",
"Ø§Ø®ØªØ± Ù„Ø§Ø¹Ø¨Ù‹Ø§ ÙˆÙ‚Ù„ Ù„Ù‡ Ù„Ù‚Ø¨ Ù…Ø¶Ø­Ùƒ Ù…Ø­ØªØ±Ù…",
"Ù‚Ù„ Ù…Ø«Ù„ Ø´Ø¹Ø¨ÙŠ ÙˆØ¨Ø¯Ù‘Ù„ ÙƒÙ„Ù…Ø© Ø¨ÙƒÙ„Ù…Ø© Ù…ÙˆØ²",
"Ø­Ø§ÙˆÙ„ ØªÙ†Ø·Ù‚ Ø£Ø³Ø±Ø¹ Ø¬Ù…Ù„Ø© ØµØ¹Ø¨Ø© ØªØ®ØªØ§Ø±Ù‡Ø§",
"Ø§Ø¹Ù…Ù„ Ø±Ù†Ø© Ø¥Ø´Ø¹Ø§Ø± Ù…Ù† Ø§Ø®ØªØ±Ø§Ø¹Ùƒ ğŸ“³",
"Ø§ØªØ®ÙŠÙ„ Ù†ÙØ³Ùƒ Ø¨Ø·Ù„ Ø®Ø§Ø±Ù‚ ÙˆØ¹Ø±Ù‘Ù Ù‚ÙˆØ§Ùƒ",
"Ù‚Ù„ Ø®Ø¨Ø± Ø¹Ø§Ø¬Ù„ Ø®Ø±Ø§ÙÙŠ Ø§Ù„Ø¢Ù†",
"ØµÙ Ù†ÙƒÙ‡Ø© Ù…Ø§Ø¡ Ø§Ù„Ø´Ø±Ø¨ Ø¨Ø·Ø±ÙŠÙ‚Ø© Ø´Ø§Ø¹Ø±ÙŠØ©",
"Ù‚Ù„ Ø§Ø³Ù… Ø¨Ù„Ø¯ ÙˆØ£ØªØ¨Ø¹Ù‡ Ø¨ØµÙˆØª Ø§Ù„Ø­ÙŠÙˆØ§Ù† Ø§Ù„ÙˆØ·Ù†ÙŠ (Ø§Ø®ØªØ± Ø£ÙŠÙ‹Ø§ ğŸ˜…)",
"ØªÙƒÙ„Ù… ÙˆÙƒØ£Ù†Ùƒ Ù…Ø¹Ù„Ù‘Ù‚ Ø¹Ù„Ù‰ Ø³Ø¨Ø§Ù‚ Ù†Ù…Ù„ ğŸœ",
"Ù‚Ù„ 'ÙˆØ§Ùˆ' Ø¨Ø¹Ø´Ø± ØªØ¹Ø¨ÙŠØ±Ø§Øª Ù…Ø®ØªÙ„ÙØ©",
"Ø§Ø¹Ù…Ù„ ØµÙˆØª Ø³ÙŠÙ Ù„ÙŠØ²Ø± âš”ï¸",
"Ù‚Ù„ 5 ÙƒÙ„Ù…Ø§Øª Ø¥Ù†Ø¬Ù„ÙŠØ²ÙŠØ© ØªÙ†Ø·Ù‚Ù‡Ø§ Ø¨Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©",
"Ù‚Ù„ Ø¬Ù…Ù„Ø© Ù…Ù‚Ù„ÙˆØ¨Ø© Ø§Ù„Ù…Ø¹Ù†Ù‰ Ø«Ù… Ø£ØµÙ„Ø­Ù‡Ø§",
"Ø§Ø¹Ù…Ù„ Ù…Ø¤ØªÙ…Ø± ØµØ­ÙÙŠ ÙˆØªØ¬Ø§ÙˆØ¨ Ø³Ø¤Ø§Ù„Ù‹Ø§ Ù…Ù† Ø¹Ù‚Ù„Ùƒ",
"Ø§Ø®ØªØ± Ø´ÙŠØ¦Ù‹Ø§ Ù‚Ø±ÙŠØ¨Ù‹Ø§ ÙˆØ§Ù…Ø¯Ø­Ù‡ Ø¨ØµØ¯Ù‚",
"Ù‚Ù„ 'Ù„Ø§ ØªØ¹Ù„ÙŠÙ‚' Ø¨Ø«Ù„Ø§Ø« Ø·Ø±Ù‚ Ù…Ø®ØªÙ„ÙØ©",
"Ø§Ø¹Ù…Ù„ Ø¯ÙØ¨ÙƒØ© ÙƒØ±Ø³ÙŠ (ÙˆØ£Ù†Øª Ø¬Ø§Ù„Ø³ ğŸ˜„)",
"Ø§Ø®ØªÙ… ÙƒÙ„Ø§Ù…Ùƒ Ø¨Ù€ 'ÙŠØ§ Ø³Ù„Ø§Ù…' Ù„Ù…Ø¯Ø© Ø¬ÙˆÙ„Ø©",
"Ø§Ø­ÙƒÙŠ Ù…ÙˆÙ‚Ù Ù…Ø­Ø±Ø¬ Ù„ÙƒÙ† Ø§Ù†ØªÙ‡Ù‰ Ø¨Ø³Ø¹Ø§Ø¯Ø©",
"Ù‚Ù„ Ø§Ø³Ù… Ø£ÙƒÙ„Ø© ÙˆØ§Ù…Ø¯Ø­Ù‡Ø§ ÙˆÙƒØ£Ù†Ù‡Ø§ ÙØ§Ø²Øª Ø¨Ø¬Ø§Ø¦Ø²Ø©",
"Ù‚Ù„ 'Ø£Ù„Ùˆ' ÙˆÙƒØ£Ù†Ùƒ Ø§Ø³ØªÙ‚Ø¨Ù„Øª Ù…ÙƒØ§Ù„Ù…Ø© Ù…Ù† Ø§Ù„ÙØ¶Ø§Ø¡ ğŸ‘½",
"ØªÙƒÙ„Ù… ÙˆÙƒØ£Ù†Ùƒ ÙÙŠ Ø¥Ø¹Ù„Ø§Ù† Ù…Ø¹Ø¬ÙˆÙ† Ø£Ø³Ù†Ø§Ù† ğŸ˜",
"Ù‚Ù„ Ø§Ø³Ù… Ù„ÙˆÙ† ÙˆØ§Ø®ØªØ±Ø¹ Ù„Ù‡ Ù†ÙƒÙ‡Ø©",
"ØµÙ ØµÙˆØª Ø§Ù„Ù‡Ø¯ÙˆØ¡ ÙƒØ£Ù†Ù‡ Ø´ÙŠØ¡ Ù…Ù„Ù…ÙˆØ³",
"Ù‚Ù„ Ø¹Ù†ÙˆØ§Ù† ÙÙŠÙ„Ù… ÙˆØ§Ø®ØªØ±Ø¹ Ù‚ØµØ© Ù„Ù‡",
"Ù‚Ù„ Ø¹Ø¨Ø§Ø±Ø© ØªØ­ÙÙŠØ²ÙŠØ© ÙƒØ£Ù†Ùƒ Ù…Ø¯Ø±Ù‘Ø¨",
"Ø§Ù…Ø¯Ø­ Ø®ØµÙ…Ùƒ ÙÙŠ Ø«Ù„Ø§Ø« ÙƒÙ„Ù…Ø§Øª ØµØ§ÙÙŠØ©",
"Ø§Ø®ØªØ±Ø¹ Ø´Ø¹Ø§Ø±Ù‹Ø§ Ù„Ù†ÙØ³Ùƒ ÙˆØ±Ø¯Ø¯Ù‡",
"Ù‚Ù„ 'Ø£Ù†Ø§ Ø§Ù„Ø£Ø³Ø·ÙˆØ±Ø©' Ø¨Ù†Ø¨Ø±Ø© Ø®Ø¬ÙˆÙ„Ø© Ø«Ù… ÙˆØ§Ø«Ù‚Ø©",
"Ø§Ø¹Ù…Ù„ ØªØ­ÙŠØ© Ø¹Ø³ÙƒØ±ÙŠØ© Ù„ÙƒÙˆØ¨ Ø§Ù„Ù…Ø§Ø¡ ğŸ«¡",
"ØªÙƒÙ„Ù… ÙƒØ£Ù†Ùƒ Ù…ØªØ±Ø¬Ù… ÙÙˆØ±ÙŠ Ù…ØªØ³Ø±Ù‘Ø¹",
"Ù‚Ù„ ÙƒÙ„Ù…Ø© Ù…Ø®ØªØ±Ø¹Ø© ÙˆØ§Ø´Ø±Ø­ Ù…Ø¹Ù†Ø§Ù‡Ø§",
"Ù‚Ù„ Ø¨ÙŠØªÙŠÙ† Ø±Ø§Ø¨ Ù…Ø±ØªØ¬Ù„ÙŠÙ† ğŸ¤",
"Ø§Ø¹Ù…Ù„ Ù†Ø´Ø±Ø© Ù…Ø±ÙˆØ± Ø¹Ù† Ø­Ø±ÙƒØ© Ø§Ù„ÙƒØ±Ø§Ø³ÙŠ",
"Ù‚Ù„ Ø¬Ù…Ù„Ø© ÙˆÙƒØ£Ù† Ø§Ù„Ù…Ø§ÙŠÙƒ Ø¨Ø¹ÙŠØ¯ Ø«Ù… Ù‚Ø±ÙŠØ¨ ğŸ™ï¸",
"Ù‚Ù„ 'Ø£Ù†Ø§ Ù‡Ø§Ø¯Ø¦ Ø¬Ø¯Ù‹Ø§' ÙˆØ£Ù†Øª ØªØªØµÙ†Ù‘Ø¹ Ø§Ù„Ø¹ØµØ¨ÙŠØ©",
"Ø¬Ø±Ù‘Ø¨ Ù„Ù‡Ø¬Ø© Ø·ÙÙ„ ÙØ±Ø­Ø§Ù† Ø¬Ø¯Ù‹Ø§ ğŸ‘¶",
"Ø§Ø¹Ù…Ù„ Ø¥Ø¹Ù„Ø§Ù† ØªØ®ÙÙŠØ¶Ø§Øª Ø¹Ù„Ù‰â€¦ Ø§Ù„Ù‡ÙˆØ§Ø¡",
"Ù‚Ù„ ÙˆØµÙØ© Ø´Ø§ÙŠ Ø¨Ø£Ø³Ù„ÙˆØ¨ Ø¯Ø±Ø§Ù…ÙŠ",
"Ø§Ø®ØªØ± Ø§Ø³Ù… ÙƒÙˆÙƒØ¨ Ø¬Ø¯ÙŠØ¯ ÙˆØ¹Ø±Ù‘ÙÙ†Ø§ Ø¹Ù„ÙŠÙ‡",
"Ù‚Ù„ 'Ù…Ù…Ù†ÙˆØ¹ Ø§Ù„Ø¶Ø­Ùƒ' Ø¨Ø·Ø±ÙŠÙ‚Ø© ØªÙØ¶Ø­Ùƒ",
"Ø£Ø¹Ø·Ù†Ø§ Ø¯Ø±Ø³Ù‹Ø§ Ø³Ø±ÙŠØ¹Ù‹Ø§ ÙÙŠ Ø§Ù„ØµÙ…Øªâ€¦ Ù„Ù…Ø¯Ø© 5 Ø«ÙˆØ§Ù† ğŸ˜¶",
"Ù‚Ù„ Ù†Ø´ÙŠØ¯Ù‹Ø§ Ù…Ù† ÙƒÙ„Ù…Ø© ÙˆØ§Ø­Ø¯Ø© Ù…ÙƒØ±Ø±Ø©",
"Ù‚Ù„ Ø§Ø³Ù…Ùƒ Ø¨Ø§Ù„Ù…Ù‚Ù„ÙˆØ¨ Ø«Ù… Ø¹Ø§Ø¯ÙŠ",
"ØªÙƒÙ„Ù… ÙƒØ£Ù†Ùƒ ÙÙŠ ÙÙŠÙ„Ù… ÙˆØ«Ø§Ø¦Ù‚ÙŠ Ø¹Ù† Ù†ÙØ³Ùƒ",
"Ù‚Ù„ 3 Ù…Ø¹Ù„ÙˆÙ…Ø§Øª ØµØ­ÙŠØ­Ø©  ÙˆÙˆØ§Ø­Ø¯Ø© ØªØ®Ù…ÙŠÙ†",
"ØµÙ Ø±Ø§Ø¦Ø­Ø© Ù„ÙˆÙ† Ø£Ø²Ø±Ù‚ (ØªØ®ÙŠÙ„!)",
"Ø§Ø¹Ù…Ù„ ØªØ­ÙŠØ© Ù„Ù€'Ø¹Ø¬Ù„Ø© ÙŠÙˆÙ†Ø³' ğŸ‘‘",
"Ø§Ø®ØªØ±Ø¹ Ø¬Ø§Ø¦Ø²Ø© ÙˆØ£Ø¹Ø·Ù‡Ø§ Ù„Ø´Ø®Øµ Ø¨Ø¬Ø§Ù†Ø¨Ùƒ",
"Ù‚Ù„ Ø¬Ù…Ù„Ø© ÙˆÙƒØ£Ù†Ùƒ ØªØ­Øª Ø§Ù„Ù…Ø§Ø¡ ğŸ«§",
"Ù…Ø«Ù„ Ù…Ø´Ù‡Ø¯ Ù„Ù‚Ø§Ø¡ Ù…Ø¹ Ø¨Ø·Ø±ÙŠÙ‚ ğŸ§",
"Ù‚Ù„ Ù†ÙƒØªØ© Ù…Ù† ØºÙŠØ± Ù…Ø§ ØªØ¶Ø­Ùƒ (ØªØ­Ø¯ÙŠ)",
"Ø§Ø®ØªØ±Ø¹ Ø¥ÙŠÙ…ÙˆØ¬ÙŠ Ø¨ØµÙˆØªÙƒ ÙÙ‚Ø·",
"Ù‚Ù„ Ø­ÙƒÙ…Ø© ÙŠÙ†ÙØ¹ Ù†Ø·Ø¨Ø¹Ù‡Ø§ Ø¹Ù„Ù‰ Ù‚Ù…ÙŠØµ",
"Ø§Ø¹Ù…Ù„ Ù…ÙˆØ¬Ø© Ø¬Ù…Ø§Ù‡ÙŠØ± (Ø¨Ø§Ù„ÙŠØ¯ÙŠÙ† ÙÙ‚Ø·)",
"ØªÙƒÙ„Ù… ÙˆÙƒØ£Ù†Ùƒ Ø®Ø±Ù‘Ø§Ø· ÙƒÙ„Ù…Ø§Øª Ø´Ø§Ø¹Ø±ÙŠØ©",
"Ù‚Ù„ Ø§Ø³Ù… ÙØ±ÙŠÙ‚Ùƒ Ø§Ù„Ù…ÙØ¶Ù„ ÙƒØ£Ù†Ùƒ Ù…Ø¯Ø±Ù‘Ø¨",
"Ø§Ø¹Ù…Ù„ ØµÙØ§Ø±Ø© Ø­ÙƒÙ… Ø«Ù… Ø¨Ø·Ø§Ù‚Ø© ØµÙØ±Ø§Ø¡ Ù„Ø´ÙŠØ¡ Ø¹Ø´ÙˆØ§Ø¦ÙŠ ğŸŸ¨",
"Ù‚Ù„ 'Ø®Ù„Ø§Øµ' Ø¨Ø£Ø±Ø¨Ø¹ Ù…Ø¹Ø§Ù†ÙŠ Ù…Ø®ØªÙ„ÙØ©",
"Ø§Ø¹Ù…Ù„ ØµÙˆØª Ø¨Ø§Ø¨ Ù‚Ø¯ÙŠÙ… Ø«Ù… Ø¨Ø§Ø¨ Ø£ÙˆØªÙˆÙ…Ø§ØªÙŠÙƒ",
"Ø§Ø®ØªØ±Ø¹ Ø§Ø³Ù… Ø´Ø§Ø±Ø¹ Ø¬Ø¯ÙŠØ¯ ÙÙŠ Ù…Ø¯ÙŠÙ†ØªÙƒ",
"ØªØ®ÙŠÙ„ Ø£Ù† Ø§Ù„ÙƒØ±Ø³ÙŠ ÙŠØ³Ø£Ù„Ùƒ Ø³Ø¤Ø§Ù„Ù‹Ø§ ÙˆØ±Ø¯ Ø¹Ù„ÙŠÙ‡",
"Ù‚Ù„ 'Ù…Ø¹ Ø§Ù„Ø³Ù„Ø§Ù…Ø©' Ø¨Ø®Ù…Ø³ Ù†Ø¨Ø±Ø§Øª",
"Ø£Ø¹Ø¯ ØªÙ‚Ù„ÙŠØ¯ Ø¶Ø­ÙƒØ© ØµØ¯ÙŠÙ‚ (Ø¨Ø¯ÙˆÙ† Ø¥Ø³Ø§Ø¡Ø©)",
"Ø§Ø¹Ù…Ù„ Ø¥Ø¹Ù„Ø§Ù† Ù„Ø¨Ø·Ø§Ø±ÙŠØ© Ù„Ø§ ØªÙ†ÙØ¯",
"Ù‚Ù„ ÙƒÙ„Ù…Ø§Øª ØªØ¨Ø¯Ø£ Ø¨Ø­Ø±Ù Ø§Ù„Ø±Ø§Ø¡ ÙÙ‚Ø· Ù„Ù…Ø¯Ø© 7 Ø«ÙˆØ§Ù†",
"Ø§Ø¹Ù…Ù„ ØµÙˆØª Ø¯Ø®ÙˆÙ„ Ù„Ø§Ø¹Ø¨ Ø¥Ù„Ù‰ Ø§Ù„Ù…Ù„Ø¹Ø¨ Ù…Ø¹ Ø§Ù„Ø¬Ù…Ù‡ÙˆØ±",
"Ù‚Ù„ Ø§Ø³Ù… ÙØ§ÙƒÙ‡Ø© ÙˆÙƒØ£Ù†Ù‡Ø§ Ø´Ø®ØµÙŠØ© ØªØ§Ø±ÙŠØ®ÙŠØ©",
"ØªÙƒÙ„Ù… Ø¨Ø¨Ø·Ø¡ Ø´Ø¯ÙŠØ¯ Ø«Ù… Ø¨Ø³Ø±Ø¹Ø© Ø«Ù… Ø·Ø¨ÙŠØ¹ÙŠ",
"Ù…Ø«Ù‘Ù„ Ø£Ù†Ùƒ Ù…Ø°ÙŠØ¹ Ù†ØªÛŒØ¬Ù‡ â€™Ø§Ù„Ø¹Ø¬Ù„Ø©â€™ Ø§Ù„Ø¢Ù†",
"Ù‚Ù„ Ø£Ù…Ù†ÙŠØ© Ù…Ø³ØªØ­ÙŠÙ„Ø© ÙƒØ£Ù†Ù‡Ø§ Ø³ØªØ­ØµÙ„ Ø§Ù„ÙŠÙˆÙ…",
"Ø¹Ø±Ù‘Ù Ø¹Ù† ÙŠÙˆÙ…Ùƒ Ø¨Ø«Ù„Ø§Ø«Ø© Ø£ØµÙˆØ§Øª ÙÙ‚Ø·",
"Ø§Ø®ØªØ±Ø¹ Ø§Ø³Ù… Ø¢Ù„Ø© Ù…ÙˆØ³ÙŠÙ‚ÙŠØ© ÙˆÙ‚Ù„ ÙƒÙŠÙ ØµÙˆØªÙ‡Ø§",
"Ù‚Ù„ 'Ø£Ø­ØªØ§Ø¬ Ù‚Ù‡ÙˆØ©' Ø¨Ø®Ù…Ø³ Ù…Ø´Ø§Ø¹Ø± Ù…Ø®ØªÙ„ÙØ© â˜•",
"Ø§Ø¹Ù…Ù„ Ù…ÙˆØ¬Ø² Ø£Ø®Ø¨Ø§Ø± Ø·Ø±ÙŠÙØ© Ù…Ø¯ØªÙ‡Ø§ 10 Ø«ÙˆØ§Ù†",
"Ù‚Ù„ Ø´ÙŠØ¡ Ø¬Ù…ÙŠÙ„ Ø¹Ù† Ø§Ù„ÙŠÙ…ÙŠÙ† Ø«Ù… Ø§Ù„ÙŠØ³Ø§Ø±",
"Ù‚Ù„ â€™Ø§Ø³Ù…Ùƒâ€™ Ø¹Ù„Ù‰ ÙˆØ²Ù† Ø£ØºÙ†ÙŠØ© (Ø¨Ø¯ÙˆÙ† Ù„Ø­Ù† Ù…Ø¹Ø±ÙˆÙ)",
"ØªØ¸Ø§Ù‡Ø± Ø£Ù†Ùƒ Ù†ÙØ³ÙŠØª Ø§Ù„ÙƒÙ„Ø§Ù… ÙˆØ§Ø³ØªØ¨Ø¯Ù„Ù‡ Ø¨Ø¥ÙŠÙ…ÙˆØ¬ÙŠ (Ù„ÙØ¸Ù‹Ø§) ğŸ˜‚",
"Ø§Ø®ØªØ±Ø¹ ØªØ­Ø¯ÙŠÙ‹Ø§ Ø¬Ø¯ÙŠØ¯Ù‹Ø§ Ù„Ù„Ø¹Ø¬Ù„Ø© Ø§Ù„Ø¢Ù†",
"Ø§Ø®ØªÙ… Ø¨Ù€'Ø´ÙƒØ±Ø§Ù‹â€¦ Ù…Ø¹ ØªØ­ÙŠØ§Øª ÙŠÙˆÙ†Ø³' ğŸ‘‘"
];

/* =========================
   DOM: Ø¥Ø¯Ø®Ø§Ù„ Ø§Ù„Ø£Ø³Ù…Ø§Ø¡
========================= */
const nameInput = $("#nameInput");
const chipsEl = $("#namesChips");
$("#addName").onclick = ()=>{
  const v = nameInput.value.trim();
  if(!v) return;
  state.names.push(v);
  nameInput.value="";
  renderNames();
  playClick();
};
$("#addMany").onclick = ()=>{
  const txt = prompt("Ø£Ù„ØµÙ‚ Ù‡Ù†Ø§ Ø£Ø³Ù…Ø§Ø¡ Ù…ÙØµÙˆÙ„Ø© Ø¨Ø£Ø³Ø·Ø± Ø£Ùˆ Ø¨ÙÙˆØ§ØµÙ„:");
  if(!txt) return;
  txt.split(/[\n,]+/).map(s=>s.trim()).filter(Boolean).forEach(n=> state.names.push(n));
  renderNames(); playClick();
};
function renderNames(){
  chipsEl.innerHTML = "";
  state.names.forEach((n,i)=>{
    const c = document.createElement("div");
    c.className = "chip";
    c.innerHTML = `${n} <span style="opacity:.6; cursor:pointer" title="Ø­Ø°Ù" data-i="${i}">âœ–</span>`;
    chipsEl.appendChild(c);
    c.querySelector("span").onclick = (e)=>{ state.names.splice(i,1); renderNames(); playClick(); };
  });
  buildWheel(wheelNames, state.names.length?state.names:["Ø£Ø¶Ù Ø£Ø³Ù…Ø§Ø¡"], true);
}

/* =========================
   Ø£Ø²Ø±Ø§Ø± Ø§Ù„Ø³Ø¨ÙÙ†
========================= */
$("#spinSecs").addEventListener("change", e=>{
  state.spinSecs = Math.max(1, Math.min(10, parseInt(e.target.value||4,10)));
});

$("#spinNames").onclick = ()=>{
  if(state.names.length<1){ alert("Ø£Ø¶Ù Ø§Ø³Ù…Ù‹Ø§ ÙˆØ§Ø­Ø¯Ù‹Ø§ Ø¹Ù„Ù‰ Ø§Ù„Ø£Ù‚Ù„."); return; }
  spinWheel(boxNames, state.names, (idx, val)=>{
    state.chosenName = val;
    $("#resultName").textContent = `ğŸ¯ Ø§Ù„Ø¯ÙˆØ± Ø¹Ù„Ù‰: ${val}`;
    $("#spinChallenges").disabled = false;
  }, true);
};

$("#spinChallenges").onclick = ()=>{
  spinWheel(boxChallenges, CHALLENGES, (idx, val)=>{
    $("#resultChallenge").textContent = `ğŸ² Ø§Ù„ØªØ­Ø¯ÙŠ: ${val}`;
  }, false);
};

/* =========================
   Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„Ø¯Ø±Ø¬
========================= */
const drawer = $("#drawer");
$("#openSettings").onclick = ()=>{ drawer.classList.add("open"); playClick(); };
$("#closeSettings").onclick = ()=>{ drawer.classList.remove("open"); playClick(); };

function toggleSwitch(swEl, key){
  swEl.classList.toggle("on");
  state[key] = swEl.classList.contains("on");
  playClick();
  if(key==="neonOn"){
    document.documentElement.style.setProperty('--bg1', state.neonOn ? '#0f1023' : '#0e1117');
    document.documentElement.style.setProperty('--bg2', state.neonOn ? '#191b3a' : '#111827');
    document.documentElement.style.setProperty('--brand', state.neonOn ? '#ffdb3b' : '#a6e3a1');
    document.documentElement.style.setProperty('--brand2', state.neonOn ? '#00f5d4' : '#74c7ec');
    document.documentElement.style.setProperty('--accent', state.neonOn ? '#ff7eb6' : '#f38ba8');
  }
}
$("#swSound").onclick = ()=> toggleSwitch($("#swSound"), "soundOn");
$("#swConfetti").onclick = ()=> toggleSwitch($("#swConfetti"), "confettiOn");
$("#swVibrate").onclick = ()=> toggleSwitch($("#swVibrate"), "vibrateOn");
$("#swNeon").onclick = ()=> toggleSwitch($("#swNeon"), "neonOn");

/* =========================
   Ø£Ø²Ø±Ø§Ø± Ø§Ù„Ù…ØªØ¹Ø© (Ù„Ø§ ØªØ¤Ø«Ø± Ø¹Ù„Ù‰ Ø§Ù„Ù„Ø¹Ø¨)
========================= */
$$(".funbtn").forEach(btn=>{
  btn.addEventListener("click", ()=>{
    const fx = btn.dataset.fx;
    if(fx==="horn"){ clownHorn(); shake(btn); }
    if(fx==="pop"){ popSound(); flash(btn); }
    if(fx==="confetti"){ burstConfetti(btn.getBoundingClientRect().left, btn.getBoundingClientRect().top); }
    if(fx==="invert"){ toggleInvert(); }
    if(fx==="shake"){ vibrate(100); shake($("main")); }
  });
});

/* =========================
   ØªÙ‡ÙŠØ¦Ø© Ø£ÙˆÙ„ÙŠØ©
========================= */
renderNames();
buildWheel(wheelChallenges, ["ğŸ¯","ğŸ˜‚","ğŸ”¥","ğŸ¤ª","ğŸ®","ğŸˆ","ğŸƒ","ğŸ’¥"], false);
</script>
</body>
</html>
<div style="text-align:center; margin-top:20px; font-family:Comic Sans MS, cursive; color:#ff0066; font-size:18px;">
  ğŸ‘‘ ØµÙ†Ø¹ Ø¨Ø¥Ø¨Ø¯Ø§Ø¹ <b>ÙŠÙˆÙ†Ø³</b> â€“ Ø§Ù„Ø£ÙŠÙ‚ÙˆÙ†Ø© Ø§Ù„ØªÙŠ Ù„Ø§ ØªÙÙƒØ±Ø± ğŸ˜‚ğŸ”¥
</div>
<div style="text-align:center; margin-top:30px; font-family:Comic Sans MS, cursive; color:#ff0066; font-size:18px;">
  <img src="https://i.postimg.cc/L47y7tkr/20241004-191342.jpg" alt="ØµÙˆØ±Ø© ÙŠÙˆÙ†Ø³" style="max-width:200px; border-radius:20px; box-shadow:0 0 15px rgba(0,0,0,0.3); margin-bottom:15px;">
  <div>ğŸ‘‘ ØµÙ†Ø¹ Ø¨Ø¥Ø¨Ø¯Ø§Ø¹ <b>ÙŠÙˆÙ†Ø³</b> â€“ Ø§Ù„Ø£ÙŠÙ‚ÙˆÙ†Ø© Ø§Ù„ØªÙŠ Ù„Ø§ ØªÙÙƒØ±Ø± ğŸ˜‚ğŸ”¥</div>
  <div style="margin-top:10px; color:#0099ff; font-size:16px;">ğŸ“¿ ÙƒÙŠ ØªØµÙ„Ù‘Ùˆ Ø§Ø¯Ø¹ÙˆÙ„ÙŠ ğŸŒ™ğŸ’™</div>
</div>